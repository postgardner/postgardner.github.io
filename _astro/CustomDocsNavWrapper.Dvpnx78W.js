import{j as e}from"./jsx-runtime.DCqPeNwG.js";import{R as y,r as n}from"./index.66AI1_x2.js";import{a as w}from"./url-builder.CA2d8hgU.js";import{c as k}from"./createLucideIcon.B4cZXBgz.js";import"./_commonjsHelpers.Cpj98o6Y.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=k("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),$=({item:s,currentPath:h,parentId:f,itemIndex:j,collapsedGroups:o,toggleGroupCollapse:g})=>{const u=s.items&&s.items.length>0,d=`${f}-${j}`;if(u&&s.items)return e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-md flex-shrink-0",onClick:l=>{l.stopPropagation(),g(`nested-${d}`)},children:e.jsx("div",{className:`transition-transform duration-150 ${o[`nested-${d}`]?"":"rotate-180"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon",className:"h-3 w-3 text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})}),e.jsxs("button",{className:"flex items-center px-2 py-1 text-xs font-medium text-gray-700 rounded-md hover:bg-purple-50 min-w-0 flex-1",onClick:l=>{l.stopPropagation(),g(`nested-${d}`)},children:[e.jsx("span",{className:"truncate",children:s.label}),s.badge&&s?.badge?.text&&e.jsx("span",{className:`text-${s.badge.color||"purple"}-600 ml-2 text-[10px] font-medium bg-${s.badge.color||"purple"}-50 px-2 py-0.5 rounded uppercase`,children:s.badge.text})]})]}),e.jsx("div",{className:`overflow-hidden transition-[height] duration-150 ease-out ${o[`nested-${d}`]?"h-0":"h-auto"}`,children:e.jsx("div",{className:"space-y-0.5 border-gray-200/80 border-l pl-4 ml-[9px] mt-1",children:s.items.map((l,x)=>e.jsx($,{item:l,currentPath:h,parentId:d,itemIndex:x,collapsedGroups:o,toggleGroupCollapse:g},`nested-${d}-${x}`))})})]});let c=s.slug?w(`/docs/custom/${s.slug}`):"#";const p=h===c||h.endsWith(`/${s.slug}`),b=s.attrs?{...s.attrs,style:typeof s.attrs.style=="string"?s.attrs.style.split(";").filter(l=>l.trim()).reduce((l,x)=>{const[v,t]=x.split(":").map(a=>a.trim()),r=v.replace(/-([a-z])/g,a=>a[1].toUpperCase());return{...l,[r]:t}},{}):s.attrs.style}:null,m=s.slug?.startsWith("http");return m&&s.slug&&(c=s.slug),e.jsxs("a",{href:c,...b||{},className:`flex items-center px-2 py-1.5 text-xs ${p?"bg-purple-100 text-purple-900 font-medium":"text-gray-600 hover:bg-purple-100"} rounded-md`,"data-active":p,target:m?"_blank":void 0,children:[e.jsxs("span",{className:"truncate flex items-center gap-1.5",children:[s.label,m&&e.jsx(C,{className:"w-3 -mt-0.5 h-3"})]}),s.badge&&s?.badge?.text&&e.jsx("span",{className:`text-${s.badge.color||"purple"}-600 ml-2 text-[10px] font-medium bg-${s.badge.color||"purple"}-50 px-2 py-0.5 rounded uppercase`,children:s.badge.text})]})},S=y.memo($),E=({searchTerm:s})=>e.jsxs("div",{className:"px-4 py-6 text-center",children:[e.jsxs("div",{className:"text-gray-400 text-sm mb-2",children:['No results found for "',s,'"']}),e.jsxs("div",{className:"text-gray-400 text-xs",children:["Try:",e.jsxs("ul",{className:"mt-2 space-y-1 text-left list-disc pl-4",children:[e.jsx("li",{children:"Checking for typos"}),e.jsx("li",{children:"Using fewer keywords"}),e.jsx("li",{children:"Using more general terms"})]})]})]}),T=y.memo(E),N="EventCatalog:customDocsSidebarCollapsedGroups",L=300,R=({sidebarItems:s})=>{const h=n.useRef(null),[f,j]=n.useState(""),[o,g]=n.useState(""),[u,d]=n.useState(!1),[c,p]=n.useState(()=>{if(typeof window<"u"){const t=window.localStorage.getItem(N);return d(!0),t?JSON.parse(t):{}}return{}}),b=window.location.pathname;n.useEffect(()=>{const t=setTimeout(()=>{g(f.toLowerCase())},L);return()=>clearTimeout(t)},[f]);const m=n.useMemo(()=>{if(!o)return s;const t=a=>a.toLowerCase().includes(o),r=a=>t(a.label)?!0:a.items&&a.items.length>0?a.items.some(r):!1;return s.map(a=>{if(!a.items)return t(a.label)?a:null;const i=a.items.filter(r);return i.length>0||t(a.label)?{...a,items:i}:null}).filter(Boolean)},[s,o]);n.useEffect(()=>{if(o){const t={...c};Object.keys(t).forEach(r=>{t[r]=!1}),p(t)}},[o]),n.useEffect(()=>{typeof window<"u"&&u&&window.localStorage.setItem(N,JSON.stringify(c))},[c,u]),n.useEffect(()=>{if(u&&s&&s.length>0){const t={...c};s.forEach((r,a)=>{const i=`section-${a}`;r.collapsed!==void 0&&t[i]===void 0&&(t[i]=r.collapsed)}),p(t)}},[s,u]),n.useEffect(()=>{const t=document.querySelector('[data-active="true"]');t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},300)},[]);const l=n.useCallback(t=>{p(r=>({...r,[t]:!r[t]}))},[]),x=n.useCallback(t=>{j(t.target.value)},[]);if(!u)return null;const v=o&&m.length===0;return e.jsxs("nav",{ref:h,className:"h-full text-gray-800 pt-4 overflow-y-auto",children:[e.jsx("div",{className:"mb-2 px-3 bg-white z-10",children:e.jsx("input",{type:"text",value:f,onChange:x,placeholder:"Quick search...",className:"w-full p-2 px-2 text-sm rounded-md border border-gray-200 h-[30px]"})}),e.jsx("div",{className:"space-y-2 divide-y divide-gray-100/40 pb-4",children:v?e.jsx(T,{searchTerm:o}):m.map((t,r)=>e.jsx("div",{className:"pt-2 pb-2 px-3",children:e.jsxs("div",{className:"space-y-0","data-section":`section-${r}`,children:[t.items?e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-md flex-shrink-0",onClick:a=>{a.stopPropagation(),l(`section-${r}`)},children:e.jsx("div",{className:`transition-transform duration-150 ${c[`section-${r}`]?"":"rotate-180"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon",className:"h-3 w-3 text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})}),e.jsxs("button",{className:"flex items-center justify-between px-2 py-0.5 text-xs font-bold rounded-md hover:bg-purple-50 min-w-0 flex-1",onClick:a=>{a.stopPropagation(),l(`section-${r}`)},children:[e.jsx("span",{className:"truncate",children:t.label}),t.badge&&t?.badge?.text&&e.jsx("span",{className:`text-${t.badge.color||"purple"}-600 ml-2 text-[10px] font-medium bg-${t.badge.color||"purple"}-50 px-2 py-0.5 rounded uppercase`,children:t.badge.text})]})]}):e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"flex-grow flex items-center justify-between px-2 py-0.5 text-xs font-bold rounded-md",children:[e.jsx("span",{className:"truncate",children:t.label}),e.jsx("span",{className:"text-purple-600 ml-2 text-[10px] font-medium bg-purple-50 px-2 py-0.5 rounded uppercase",children:"Section"})]})}),t.items&&e.jsx("div",{className:`overflow-hidden transition-[height] duration-150 ease-out ${c[`section-${r}`]?"h-0":"h-auto"}`,children:e.jsx("div",{className:"space-y-0.5 border-gray-200/80 border-l pl-4 ml-[9px] mt-1",children:t.items.map((a,i)=>e.jsx(S,{item:a,currentPath:b,parentId:`${r}`,itemIndex:i,collapsedGroups:c,toggleGroupCollapse:l},`item-${r}-${i}`))})}),t.slug&&!t.items&&e.jsx("a",{href:w(`/docs/custom/${t.slug}`),className:`flex items-center px-2 py-1.5 text-xs ${b.endsWith(`/${t.slug}`)?"bg-purple-100 text-purple-900 font-medium":"text-gray-600 hover:bg-purple-100"} rounded-md ml-6`,"data-active":b.endsWith(`/${t.slug}`),children:e.jsx("span",{className:"truncate",children:t.label})})]})},`section-${r}`))})]})},I=y.memo(R);function z(s){return e.jsx(I,{...s})}export{z as default};
