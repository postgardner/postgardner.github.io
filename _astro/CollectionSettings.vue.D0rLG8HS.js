import{d as N,b as c,o as r,q as l,k as M,B as V,t as B,u as a,a4 as T,a6 as j,F,J as L,ax as W,L as z,f as i,x as f,E as C,D as $,w as U,$ as E,T as O,ay as _,s as R}from"./_OpenAPI.CJmNRckt.js";import{w as S}from"./DeleteSidebarListElement.vue.Cw9ULXXU.js";import"./jsx-runtime.DCqPeNwG.js";import"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./preload-helper.BlTxHScW.js";import"./floating-ui.dom.DfmbYluP.js";/* empty css                       */const A=["aria-checked","aria-disabled"],I={key:0,class:"sr-only"},P=N({__name:"ScalarToggle",props:{modelValue:{type:Boolean},disabled:{type:Boolean},label:{}},emits:["update:modelValue"],setup(v,{emit:t}){const n=v,u=t;function d(){n.disabled||u("update:modelValue",!n.modelValue)}const m=j({base:"relative h-3.5 w-6 cursor-pointer rounded-full bg-b-3 transition-colors duration-300",variants:{checked:{true:"bg-c-accent"},disabled:{true:"cursor-not-allowed opacity-40"}}});return(o,b)=>(r(),c("button",{"aria-checked":o.modelValue,"aria-disabled":o.disabled,class:V(a(T)(a(m)({checked:o.modelValue,disabled:o.disabled}))),role:"switch",type:"button",onClick:d},[l("div",{class:V(["absolute left-px top-px flex h-3 w-3 items-center justify-center rounded-full bg-white text-c-accent transition-transform duration-300",{"translate-x-2.5":o.modelValue}])},null,2),o.label?(r(),c("span",I,B(o.label),1)):M("",!0)],10,A))}}),q={class:"flex h-full w-full flex-col gap-12 px-1.5 pt-8"},Z={class:"flex flex-col gap-2"},G={class:"bg-b-2 rounded-lg border text-sm"},J={class:"bg-b-1 -m-1/2 flex items-center justify-between gap-4 rounded-t-lg border p-3"},H={class:"text-c-1 flex items-center overflow-x-auto whitespace-nowrap py-1.5"},K={class:"flex items-center"},Q=["href"],X={class:"flex flex-col gap-4"},Y={class:"flex items-center justify-between rounded-lg border p-3 text-sm"},ee=N({__name:"CollectionSettings",setup(v){const{activeCollection:t,activeWorkspace:n,activeWorkspaceCollections:u}=F(),{collectionMutators:d}=L(),{replace:m}=W(),o=z();function b(){var s,e;t.value&&(s=t.value)!=null&&s.documentUrl&&d.edit(t.value.uid,"watchMode",!((e=t.value)!=null&&e.watchMode))}function D(){if(!t.value||!n.value)return;d.delete(t.value,n.value);const s=u.value[0];s&&m({name:"collection",params:{[_.Workspace]:n.value.uid,[_.Collection]:s.uid}}),o.hide()}return(s,e)=>{var h,x,g,w,y;return r(),c(f,null,[l("div",q,[l("div",Z,[e[5]||(e[5]=l("div",{class:"flex h-8 items-center"},[l("h3",{class:"font-bold"},"Features")],-1)),l("div",G,[l("div",J,[e[2]||(e[2]=l("div",null,[l("h4",null,"Watch Mode"),l("p",{class:"text-c-2 mt-1"}," When enabled, the OpenAPI document will be polled for changes. The collection will be updated automatically. ")],-1)),i(a(P),{class:"w-4",disabled:!((h=a(t))!=null&&h.documentUrl),modelValue:((x=a(t))==null?void 0:x.watchMode)??!1,"onUpdate:modelValue":b},null,8,["disabled","modelValue"])]),l("div",H,[l("div",K,[(g=a(t))!=null&&g.documentUrl?(r(),c(f,{key:0},[e[3]||(e[3]=l("span",{class:"bg-b-2 sticky left-0 pl-3 pr-2"},"Source",-1)),l("a",{class:"text-c-2 group rounded pr-3 no-underline hover:underline",href:a(t).documentUrl,target:"_blank"},[C(B(a(t).documentUrl)+" ",1),i(a($),{class:"ml-1 hidden w-2.5 group-hover:inline",icon:"ExternalLink"})],8,Q)],64)):(r(),c(f,{key:1},[i(a($),{class:"text-c-2 ml-3 mr-2 w-4",icon:"NotAllowed",size:"sm"}),e[4]||(e[4]=l("span",{class:"text-c-2 pr-3"}," No URL configured. Try importing an OpenAPI document from an URL. ",-1))],64))])])])]),l("div",X,[e[8]||(e[8]=l("h3",{class:"font-bold"},"Danger Zone",-1)),l("div",Y,[e[7]||(e[7]=l("div",null,[l("h4",null,"Delete Collection"),l("p",{class:"text-c-2 mt-1"}," Be careful, my friend. Once deleted, there is no way to recover the collection. ")],-1)),i(a(E),{class:"custom-scroll h-8 gap-1.5 whitespace-nowrap px-2.5 font-medium shadow-none focus:outline-none",variant:"danger",onClick:e[0]||(e[0]=p=>a(o).show())},{default:U(()=>e[6]||(e[6]=[C(" Delete Collection ")])),_:1})])])]),i(a(O),{size:"xxs",state:a(o),title:`Delete ${(y=(w=a(t))==null?void 0:w.info)==null?void 0:y.title}`},{default:U(()=>{var p,k;return[i(S,{variableName:((k=(p=a(t))==null?void 0:p.info)==null?void 0:k.title)??"",warningMessage:"This action cannot be undone.",onClose:e[1]||(e[1]=le=>a(o).hide()),onDelete:D},null,8,["variableName"])]}),_:1},8,["state","title"])],64)}}}),de=R(ee,[["__scopeId","data-v-ea98df67"]]);export{de as default};
